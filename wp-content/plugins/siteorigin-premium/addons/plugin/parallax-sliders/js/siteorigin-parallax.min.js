/**
 * @copyright Greg Priday - <https://siteorigin.com/>
 * @license GPL 3.0 http://www.gnu.org/licenses/gpl.html
 */
!function(i){i.fn.siteOriginParallax=function(o){var a=i(this);if("refreshParallax"===o)return a.trigger("refreshParallax");null===(o=i.extend({backgroundUrl:null,backgroundSize:null,backgroundAspectRatio:null,backgroundSizing:"scaled",limitMotion:"auto"},o)).backgroundAspectRatio&&(o.backgroundAspectRatio=o.backgroundSize[0]/o.backgroundSize[1]);var e=function(){if("undefined"!=typeof parallaxStyles&&0!=parallaxStyles["parallax-mobile"]&&window.matchMedia("(max-width: "+parallaxStyles["mobile-breakpoint"]+")").matches)a.css("background-position","50% 50%");else try{var e,n=[a.outerWidth(),a.outerHeight()],r=a[0].getBoundingClientRect();if(void 0===a.data("siteorigin-parallax-init")&&a.css({"background-image":"url("+o.backgroundUrl+")"}),"auto"===o.limitMotion){var t=i(window).outerHeight();e=t<720?.55:t>1300?.45:-17e-5*(t-720)+.55}else e=o.limitMotion;var c=((r.bottom+(r.top-i(window).outerHeight()))/(i(window).outerHeight()+r.height)-1)/-2,u=0,l=1;if("scaled"===o.backgroundSizing){a.css("background-size","cover");var d=n[0]/o.backgroundSize[0];if(n[1]/o.backgroundSize[1]<d){if(r.top>-n[1]&&r.bottom-i(window).outerHeight()<n[1]){var s=o.backgroundSize[1]*d;e&&s>i(window).outerHeight()*e&&(c=c*(l=i(window).outerHeight()*e/s)+(1-l)/2),u=-(s-n[1])*c}a.css("background-position","0px "+u+"px")}else a.css("background-position","50% 50%")}else"original"===o.backgroundSizing&&(e&&o.backgroundSize[1]>i(window).outerHeight()*e&&(c=c*(l=i(window).outerHeight()*e/o.backgroundSize[1])+(1-l)/2),u=-(o.backgroundSize[1]-n[1])*c,a.css("background-size","auto"),a.css("background-position","50% "+u+"px"))}catch(i){a.css({"background-size":"scaled"===o.backgroundSizing?"cover":"auto","background-position":"50% 50%"})}};e(),i(window).on("scroll",e),i(window).on("resize",e),i(window).on("panelsStretchRows",e),a.on("refreshParallax",e)}}(jQuery),jQuery((function(i){i("[data-siteorigin-parallax]").each((function(){i(this).siteOriginParallax(i(this).data("siteorigin-parallax"))}))}));